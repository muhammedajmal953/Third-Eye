<!doctype html>
<html lang="en" class="light-theme">


<!-- Mirrored from codervent.com/shopingo/demo/shopingo_V1/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 Dec 2023 05:42:26 GMT -->

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--favicon-->
    <link rel="icon" href="/user/images/favicon-32x32.webp" type="image/webp" />

    <!-- CSS files -->
    <link href="/user/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@500;600&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/user/cdn.jsdelivr.net/npm/bootstrap-icons%401.7.2/font/bootstrap-icons.css">
    <!-- Plugins -->
    <link rel="stylesheet" type="text/css" href="/user/plugins/slick/slick.css" />
    <link rel="stylesheet" type="text/css" href="/user/plugins/slick/slick-theme.css" />

    <link href="/user/css/style.css" rel="stylesheet">
    <link href="/user/css/dark-theme.css" rel="stylesheet">

    <title>ThirdEye - eCommerce</title>
</head>


<body class="bg-section-1">

    <!--page loader-->
    <div class="loader-wrapper">
        <div
            class="d-flex justify-content-center align-items-center position-absolute top-50 start-50 translate-middle">
            <div class="spinner-border text-dark" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>
    <!--end loader-->


    <!--start top header-->
    <header class="top-header">
        <nav class="navbar navbar-expand-xl w-100 navbar-dark container gap-3">
            <a class="navbar-brand d-none d-xl-inline" href="index.html">
                <h3 class="mt-1">THIRD EYE</h3>
            </a>
            <a class="mobile-menu-btn d-inline d-xl-none" href="javascript:;" data-bs-toggle="offcanvas"
                data-bs-target="#offcanvasNavbar">
                <i class="bi bi-list"></i>
            </a>
            <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar">
                <div class="offcanvas-header">
                    <div class="offcanvas-logo"><img src="/user/images/logo.webp" class="logo-img" alt="">
                    </div>
                    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
                </div>
                <div class="offcanvas-body primary-menu">
                    <ul class="navbar-nav justify-content-start flex-grow-1 gap-1">
                        <li class="nav-item">
                            <a class="nav-link" href="/user/home">Home</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="tv-shows.html"
                                data-bs-toggle="dropdown">
                                Categories
                            </a>
                            <div class="dropdown-menu dropdown-large-menu">
                                <div class="row">

                                    <!-- end col-3 -->
                                    <div class="col-12 col-xl-4">
                                        <h6 class="large-menu-title">Sunglass</h6>
                                        <ul class="list-unstyled">
                                            <li><a href="javascript:;">Computer Glass</a>
                                            </li>
                                            <li><a href="javascript:;">Fancy Frames</a>
                                            </li>


                                        </ul>
                                    </div>
                                    <!-- end col-3 -->

                                    <!-- end col-3 -->
                                </div>
                                <!-- end row -->
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/user/productList/1"> Shop </a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" href="/user/profile">
                                Account
                            </a>
                        </li>>

                    </ul>
                </div>
            </div>
            <ul class="navbar-nav secondary-menu flex-row">
                <li class="nav-item">
                    <a class="nav-link dark-mode-icon" href="javascript:;">
                        <div class="mode-icon">
                            <i class="bi bi-moon"></i>
                        </div>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="search.html"><i class="bi bi-search"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/user/showWishlist"><i class="bi bi-suit-heart"></i></a>
                </li>
                <li class="nav-item" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight">
                    <a class="nav-link position-relative" href="/user/cart">
                        <div class="cart-badge"></div>
                        <i class="bi bi-basket2"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/user/wallet"><i class="bi bi-wallet"></i></a>

                </li>
            </ul>
        </nav>
    </header>
    <!--end top header-->


    <!--start breadcrumb-->
    <div class="py-4 border-bottom mt-5">
        <div class="container">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item"><a href="javascript:;">Home</a></li>
                    <li class="breadcrumb-item"><a href="javascript:;">Orders</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Order Details</li>
                </ol>
            </nav>
        </div>
    </div>
    <!--end breadcrumb-->


    <!--start page content-->
    <section class="section-padding">
        <div class="container">
            <!-- Product details -->
            <div class="row">
                <div class="col-6">
                    <div class="card rounded-0 mb-3">
                        <div class="card-body">
                            <!-- Product image, name, status, etc. -->
                            <div class="product-img">
                                <img src="/products/<%= orderedItem.imageUrl %>" width="120" alt="Product Image">
                            </div>
                            <div class="product-info flex-grow-1">
                                <h5 class="fw-bold mb-1"><%= orderedItem.productName %></h5>
                                <div class="mt-3 hstack gap-2">
                                    <!-- Product status -->
                                    <% if (orderedItem.status==='Pending' ) { %>
                                        <button type="button" class="btn btn-sm border rounded-0 bg-primary text-light">
                                          <%= orderedItem.status %>
                                        </button>
                                        <% } else if (orderedItem.status==='Shipped' ) { %>
                                          <button type="button" class="btn btn-sm border rounded-0 bg-warning text-light">
                                            <%= orderedItem.status %>
                                          </button>
                                          <% } else if (orderedItem.status==='Delivered' ) { %>
                                            <button type="button" class="btn btn-sm border rounded-0 bg-success text-light">
                                              <%= orderedItem.status %>
                                            </button>
                                            <% } else if (orderedItem.status==='Cancelled' ) { %>
                                              <button type="button" class="btn btn-sm border rounded-0 bg-danger text-light">
                                                <%= orderedItem.status %>
                                              </button>
                                              <% } else if (orderedItem.status==='Returned' ) { %>
                                                <button type="button" class="btn btn-sm border rounded-0 bg-danger text-light">
                                                  <%= orderedItem.status %>
                                                </button>
                                                <% } %>
                                                 
                                    <!-- Quantity -->
                                    <button type="button" class="btn btn-sm border rounded-0">Qty:<%=
                                            orderedItem.cartQty %></button>
                                    <h6>Price:<%= orderedItem.price %>
                                    </h6>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer rounded-0 bg-transparent">
                            <!-- Ratings -->
                            <div class="d-flex align-items-center gap-3">
                                <p class="mb-1 fw-bold">Ordered date: <%=order.odrderedDate%>
                                </p>
                                <!-- Rating stars -->
                                <div class="ratings">
                                    <!-- Insert rating stars dynamically -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End product details -->

            <!-- Order details -->
            <div class="row">
                <div class="col-12">
                    <div class="card rounded-0 mb-3">
                        <div class="card-body">
                            <h5 class="fw-bold mb-3">Order Details</h5>
                            <p>Order ID: <span id="order-id">
                                    <%= orderedItem._id %>
                                </span></p>
                            <p>Product Total Price: Rs-<span id="total-price">
                                    <%= orderedItem.price*orderedItem.cartQty %>
                                </span></p>
                            <p>Ordered Address: <span id="order-time">
                                    <%=order.shippingAddress%>
                                </span></p>
                            <% if (orderedItem.status==='Delivered' ) { %>
                                <button type="button" id="cancelBtn" class="btn btn-danger mt-2 "
                                    onclick="returnOrder('<%=orderedItem.productId%>','<%=orderedItem.cartQty%>','<%=orderedItem._id%>')">return
                                    Order</button>
                                <% } %>

                        </div>
                    </div>
                </div>
            </div>
            <!-- End order details -->
        </div>
    </section>

    <!--end page content-->



    <!-- JavaScript files -->
    <script src="/user/js/bootstrap.bundle.min.js"></script>
    <script src="/user/js/jquery.min.js"></script>
    <script src="/user/plugins/slick/slick.min.js"></script>
    <script src="/user/js/main.js"></script>
    <script src="/user/js/index.js"></script>
    <script src="/user/js/loader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        async function returnOrder(productId, cartQty,itemId) {
            Swal.fire({
                title: 'Return Product',
                input: 'text',
                inputLabel: 'Reason for return',
                inputPlaceholder: 'Enter your reason here',
                showCancelButton: true,
                confirmButtonText: 'Return',
                cancelButtonText: 'Cancel',
                showLoaderOnConfirm: true,
                preConfirm: async (reason) => {
                    const response = await axios.post(`/user/returnOrder?productId=${productId}&cartQty=${cartQty}&itemId=${itemId}`)
                    if (response.data) {
                        Swal.fire(
                            'Waiting!',
                            `Product will be returned. Reason: ${reason}`,
                            'Waiting'
                        )
                        setTimeout(() => {
                            window.location.href='/user/orders'
                        }, 2000);
                    }
                },

            })
        }
    </script>


</body>


<!-- Mirrored from codervent.com/shopingo/demo/shopingo_V1/search.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 Dec 2023 05:42:56 GMT -->

</html>